{"ast":null,"code":"import _slicedToArray from\"C:/Users/Aman/Desktop/split-expense/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import billCalculator from'../service/service';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var members=new Map();var expense=0;function Normal(){var navigate=useNavigate();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),amount=_useState4[0],setAmount=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),memberList=_useState6[0],setMemberList=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),res=_useState8[0],getRes=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),no_need_to_split=_useState10[0],set_no_split=_useState10[1];var handleAddBill=function handleAddBill(e){e.preventDefault();var member=e.target[0].value.toLowerCase();var amount=parseFloat(e.target[1].value);// if valid name for member\nif(member){//if already has this member upgrade his expense\nif(members.has(member)){var temp=members.get(member);members.set(member,temp+amount);}else{members.set(member,amount);// add new member\n}// total expense for the whole team\nexpense+=amount;setName('');setAmount('');getRes();set_no_split(false);// list of updated members \nvar newMemberList=Array.from(members).map(function(_ref){var _ref2=_slicedToArray(_ref,2),memberName=_ref2[0],amount=_ref2[1];return{name:memberName,amount:amount};});setMemberList(newMemberList);}};var handleSplitBills=function handleSplitBills(e){set_no_split(false);if(members){var billresult=billCalculator(members,expense);if(billresult.length===0){set_no_split(true);}else{getRes(billresult);}}};var handleReset=function handleReset(e){expense=0;getRes();setMemberList(null);set_no_split(false);members.clear();};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",onSubmit:handleAddBill,children:[/*#__PURE__*/_jsx(\"h3\",{className:\"heading\",children:\"Add Expense Here:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:function onChange(e){return setName(e.target.value);},placeholder:\"Member Name\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:amount,onChange:function onChange(e){return setAmount(e.target.value);},placeholder:\"Amount Given\",required:true}),/*#__PURE__*/_jsx(\"button\",{children:\"Add Member\"})]})}),memberList&&!res&&/*#__PURE__*/_jsxs(\"div\",{className:\"member-list\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Member List:\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"member-item\",children:[memberList&&/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"div\",{children:\"Payer:\"}),\"Amount:\"]})}),memberList.map(function(member,index){return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"payer\",children:member.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"amount\",children:[\"Rs \",member.amount.toFixed(2)]})]},index);})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSplitBills,children:\"Split Bill\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleReset,children:\"Reset\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigate('/');},children:\"Split in Group\"}),no_need_to_split&&/*#__PURE__*/_jsx(\"div\",{className:\"no_split\",children:\"Don't Worry About Splitting , It's already done.\"}),res&&/*#__PURE__*/_jsxs(\"div\",{className:\"member-list\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Amount:\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"member-item\",children:[res&&/*#__PURE__*/_jsx(\"b\",{children:/*#__PURE__*/_jsxs(\"li\",{children:[\"Payer\",/*#__PURE__*/_jsx(\"div\",{children:\"Amount\"}),\"Reciever\"]})}),res.map(function(member){return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"payer\",children:member[0]}),/*#__PURE__*/_jsxs(\"div\",{className:\"amount\",children:[\"  Rs \",member[2].toFixed(2)]}),\" \",/*#__PURE__*/_jsx(\"div\",{className:\"reciever\",children:member[1]})]},member);})]})]})]})]});}export default Normal;","map":{"version":3,"names":["React","useState","billCalculator","useNavigate","jsx","_jsx","jsxs","_jsxs","members","Map","expense","Normal","navigate","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","amount","setAmount","_useState5","_useState6","memberList","setMemberList","_useState7","_useState8","res","getRes","_useState9","_useState10","no_need_to_split","set_no_split","handleAddBill","e","preventDefault","member","target","value","toLowerCase","parseFloat","has","temp","get","set","newMemberList","Array","from","map","_ref","_ref2","memberName","handleSplitBills","billresult","length","handleReset","clear","className","children","action","onSubmit","type","onChange","placeholder","required","index","toFixed","onClick"],"sources":["C:/Users/Aman/Desktop/split-expense/frontend/src/components/Normal.jsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport billCalculator from '../service/service';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst members = new Map();\r\nlet expense=0;\r\nfunction Normal() {\r\n    const navigate = useNavigate();\r\n\r\n  const [name , setName] = useState('');\r\n  const [amount , setAmount] = useState('');\r\n  const [memberList , setMemberList] = useState(null);\r\n  const [res,getRes] = useState();\r\n  const [no_need_to_split , set_no_split] =useState(false);\r\n  const handleAddBill = (e) =>{\r\n    e.preventDefault();\r\n    var member = e.target[0].value.toLowerCase();\r\n    const amount =parseFloat( e.target[1].value );\r\n    // if valid name for member\r\n    if(member){\r\n    //if already has this member upgrade his expense\r\n    if(members.has(member)){\r\n      let temp=members.get(member);\r\n      members.set(member,temp+amount);\r\n    }\r\n    else { \r\n      members.set(member,amount); // add new member\r\n    }\r\n    // total expense for the whole team\r\n    expense+=amount;  \r\n    \r\n    setName('');\r\n    setAmount('');\r\n    getRes();\r\n    set_no_split(false);\r\n    // list of updated members \r\n    const newMemberList = Array.from(members).map(([memberName, amount]) => ({ name: memberName, amount }));\r\n    setMemberList(newMemberList);\r\n  }\r\n  }\r\n  const handleSplitBills = (e) => {\r\n      set_no_split(false);\r\n      if(members){ \r\n        const billresult=billCalculator(members,expense);\r\n        if(billresult.length === 0){\r\n          set_no_split(true);\r\n        }\r\n        else {\r\n          getRes(billresult);\r\n        }\r\n      }\r\n  }\r\n  const handleReset =(e) =>{\r\n    expense=0;\r\n    getRes();\r\n    setMemberList(null);\r\n    set_no_split(false);\r\n    members.clear();\r\n  }\r\n  return (\r\n    <div className='container'>\r\n      <div className=\"form-group\">\r\n          <form action=\"\" onSubmit={handleAddBill}>\r\n            <h3 className='heading'>Add Expense Here:</h3>\r\n            <input type=\"text\" value={name} onChange={(e) => setName(e.target.value) } placeholder='Member Name' required/>\r\n            <input type=\"number\" value={amount} onChange={(e) => setAmount(e.target.value)} placeholder='Amount Given' required/>\r\n            <button>Add Member</button>\r\n          </form>\r\n      </div>\r\n      {(memberList && !res) && <div className=\"member-list\">\r\n          <h2>Member List:</h2>\r\n          <ul className='member-item'>\r\n          {memberList && <b><li><div>Payer:</div>Amount:</li></b>}\r\n            {memberList.map((member, index) => (\r\n              <li key={index}>\r\n                 <div className='payer' >{member.name}</div>\r\n                 <div className='amount' >Rs {member.amount.toFixed(2)}</div> \r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>  \r\n      }\r\n        <div>    \r\n          <button onClick={handleSplitBills}>Split Bill</button>\r\n          <button onClick={handleReset}>Reset</button>\r\n          <button onClick={() => navigate('/')}>Split in Group</button>\r\n          {\r\n            no_need_to_split && <div className='no_split'>\r\n                Don't Worry About Splitting , It's already done.\r\n              </div>\r\n          }\r\n          {res && <div className=\"member-list\">\r\n          <h2>Amount:</h2>\r\n          <ul className='member-item'>\r\n            {res && <b><li>Payer<div>Amount</div>Reciever</li></b>}\r\n            {res.map((member) => (\r\n              <li  key={member}>\r\n                <div className='payer'>{member[0]}</div> \r\n                <div className='amount'>  Rs {member[2].toFixed(2)} \r\n                </div> <div className='reciever'>{member[1]}</div>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Normal\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}