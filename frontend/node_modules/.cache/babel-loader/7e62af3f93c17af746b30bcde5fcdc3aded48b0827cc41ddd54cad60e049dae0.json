{"ast":null,"code":"import _createForOfIteratorHelper from\"C:/Users/Aman/Desktop/split-expense/frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _classCallCheck from\"C:/Users/Aman/Desktop/split-expense/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Aman/Desktop/split-expense/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var priority_queue=/*#__PURE__*/function(){function priority_queue(){_classCallCheck(this,priority_queue);this.pq=[];}// apply heapify on a child heap with top ind  -> root .\n_createClass(priority_queue,[{key:\"heapify\",value:function heapify(root){var left_ind=2*root+1;var right_ind=2*root+2;var largest=root;if(left_ind<this.pq.length&&this.pq[left_ind][0]>this.pq[largest][0]){largest=left_ind;}if(right_ind<this.pq.length&&this.pq[right_ind][0]>this.pq[largest][0]){largest=right_ind;}if(largest!==root){//swap\nvar temp=this.pq[root][0];this.pq[root][0]=this.pq[largest][0];this.pq[largest][0]=temp;//swap\ntemp=this.pq[root][1];this.pq[root][1]=this.pq[largest][1];this.pq[largest][1]=temp;this.heapify(largest);// recursive call to check further\n}}// insert new element in heap .\n},{key:\"insert\",value:function insert(element){this.pq.push(element);var ind=this.pq.length-1;while(ind!==0){var par=Math.floor((ind-1)/2);if(this.pq[par][0]<this.pq[ind][0]){//swap\nvar temp=this.pq[ind][0];this.pq[ind][0]=this.pq[par][0];this.pq[par][0]=temp;// swap\ntemp=this.pq[ind][1];this.pq[ind][1]=this.pq[par][1];this.pq[par][1]=temp;}else break;}}// remove top element of heap .\n},{key:\"remove\",value:function remove(){var last_ind=this.pq.length-1;//swap\nvar temp=this.pq[last_ind][0];this.pq[last_ind][0]=this.pq[0][0];this.pq[0][0]=temp;//swap\ntemp=this.pq[last_ind][1];this.pq[last_ind][0]=this.pq[0][1];this.pq[0][1]=temp;this.pq.pop();this.heapify(0);}// get the top element of heap .\n},{key:\"top\",value:function top(){return JSON.parse(JSON.stringify(this.pq[0]));}// check heap is empty or not .\n},{key:\"isEmpty\",value:function isEmpty(){return this.pq.length===0;}}]);return priority_queue;}();function billCalculator(members,expense){var size=members.length;var individual=expense/size;var receiver=new priority_queue();// heap for member recieve money from others\nvar giver=new priority_queue();// heap for member give mone to other members\nvar _iterator=_createForOfIteratorHelper(members),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var member=_step.value;if(member.amount>individual){// if spend more money from avg spend\nreceiver.insert([member.amount-individual,member.payer]);}else if(member.amount<individual){// if spend less money from avg spend\ngiver.insert([individual-member.amount,member.payer]);}}}catch(err){_iterator.e(err);}finally{_iterator.f();}var ans=[];// resultant array to store details of min. no. of transactions to settle down bills .\nwhile(!receiver.isEmpty()&&!giver.isEmpty()){var a=receiver.top();var b=giver.top();receiver.remove();giver.remove();if(a[0]===b[0]){ans.push([b[1],a[1],a[0]]);}else if(a[0]>b[0]){ans.push([b[1],a[1],b[0]]);receiver.insert([a[0]-b[0],a[1]]);}else{ans.push([b[1],a[1],a[0]]);giver.insert([b[0]-a[0],b[1]]);}}return ans;}export default billCalculator;","map":{"version":3,"names":["priority_queue","_classCallCheck","pq","_createClass","key","value","heapify","root","left_ind","right_ind","largest","length","temp","insert","element","push","ind","par","Math","floor","remove","last_ind","pop","top","JSON","parse","stringify","isEmpty","billCalculator","members","expense","size","individual","receiver","giver","_iterator","_createForOfIteratorHelper","_step","s","n","done","member","amount","payer","err","e","f","ans","a","b"],"sources":["C:/Users/Aman/Desktop/split-expense/frontend/src/service/service.js"],"sourcesContent":["\r\nclass priority_queue {\r\n  constructor() {\r\n    this.pq = [];\r\n  }\r\n  // apply heapify on a child heap with top ind  -> root .\r\n  heapify(root){\r\n      let left_ind = 2 * root +1;\r\n      let right_ind = 2 * root +2 ; \r\n      let largest = root;\r\n      if (left_ind < this.pq.length && this.pq[left_ind][0] > this.pq[largest][0]) {\r\n        largest = left_ind;\r\n      }\r\n      if (right_ind < this.pq.length && this.pq[right_ind][0] > this.pq[largest][0]) {\r\n        largest = right_ind;\r\n      }\r\n      if (largest !== root) {\r\n        //swap\r\n        let temp = this.pq[root][0];\r\n        this.pq[root][0] = this.pq[largest][0];\r\n        this.pq[largest][0] = temp;\r\n        //swap\r\n        temp = this.pq[root][1];\r\n        this.pq[root][1] = this.pq[largest][1];\r\n        this.pq[largest][1] = temp;\r\n\r\n        this.heapify(largest);  // recursive call to check further\r\n      }\r\n  }\r\n  // insert new element in heap .\r\n  insert(element) {\r\n    this.pq.push(element);\r\n    let ind = this.pq.length-1;\r\n    while(ind!==0 ){\r\n      let par = Math.floor((ind-1)/2) ;\r\n      \r\n      if(this.pq[par][0] < this.pq[ind][0]){\r\n        //swap\r\n        let temp = this.pq[ind][0];\r\n        this.pq[ind][0] = this.pq[par][0];\r\n        this.pq[par][0] = temp;\r\n        // swap\r\n        temp=this.pq[ind][1];\r\n        this.pq[ind][1] = this.pq[par][1];\r\n        this.pq[par][1] = temp;\r\n      }\r\n      else break ;\r\n    }\r\n  }\r\n  // remove top element of heap .\r\n  remove() {\r\n    let last_ind = this.pq.length-1;\r\n    //swap\r\n    let temp = this.pq[last_ind][0];\r\n    this.pq[last_ind][0] = this.pq[0][0];\r\n    this.pq[0][0] = temp;\r\n    //swap\r\n    temp = this.pq[last_ind][1];\r\n    this.pq[last_ind][0] = this.pq[0][1];\r\n    this.pq[0][1] = temp;\r\n\r\n    this.pq.pop();\r\n    this.heapify(0);\r\n  }\r\n  // get the top element of heap .\r\n  top() {\r\n    return JSON.parse(JSON.stringify(this.pq[0]));\r\n  }\r\n  // check heap is empty or not .\r\n  isEmpty() {\r\n    return (this.pq.length === 0);\r\n  }\r\n}\r\n\r\n\r\nfunction billCalculator(members,expense) {\r\n\r\n    let size = members.length;\r\n    let individual = expense/size ;\r\n    var receiver = new priority_queue();  // heap for member recieve money from others\r\n    var giver = new priority_queue();     // heap for member give mone to other members\r\n\r\n    for (let member of members) {\r\n      if (member.amount > individual) {           // if spend more money from avg spend\r\n        receiver.insert([member.amount - individual, member.payer]);\r\n      } \r\n      else if (member.amount < individual) {      // if spend less money from avg spend\r\n        giver.insert([individual -member.amount, member.payer]);\r\n      }\r\n    }\r\n\r\n    let ans = [];  // resultant array to store details of min. no. of transactions to settle down bills .\r\n\r\n    while (!receiver.isEmpty() && !giver.isEmpty()) {\r\n      let a = receiver.top();\r\n      let b = giver.top();\r\n      \r\n      receiver.remove();\r\n      giver.remove();\r\n\r\n      if (a[0] === b[0]) {\r\n        ans.push([b[1], a[1], a[0]]);\r\n      } \r\n      else if (a[0] > b[0]) {\r\n        ans.push([b[1], a[1], b[0]]);\r\n        receiver.insert([a[0] - b[0], a[1]]);\r\n      } \r\n      else {\r\n        ans.push([b[1], a[1], a[0]]);\r\n        giver.insert([b[0] - a[0], b[1]]);\r\n      }\r\n\r\n    }\r\n\r\n    return ans;\r\n}\r\n\r\nexport default billCalculator ; \r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}