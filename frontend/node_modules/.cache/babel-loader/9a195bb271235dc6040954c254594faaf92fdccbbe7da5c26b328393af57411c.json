{"ast":null,"code":"import React from 'react';\nimport create from \"zustand\";\nimport axios from \"axios\";\nconst authStore = create(set => ({\n  loggedIn: null,\n  loginForm: {\n    email: \"\",\n    password: \"\"\n  },\n  updateLoginForm: e => {\n    const {\n      name,\n      value\n    } = e.target;\n    set(state => {\n      return {\n        loginForm: {\n          ...state.loginForm,\n          [name]: value\n        }\n      };\n    });\n  },\n  login: async e => {\n    try {\n      e.preventDefault();\n      const {\n        loginForm\n      } = authStore.getState();\n      const res = await axios.post(\"http://localhost:5000/login\", loginForm, {\n        withCredentials: true\n      });\n      set({\n        loggedIn: true\n      });\n      console.log(res);\n    } catch (err) {\n      console.log(err);\n    }\n  },\n  checkAuth: async () => {\n    try {\n      await axios.get(\"/check-auth\", {\n        withCredentials: true\n      });\n      set({\n        loggedIn: true\n      });\n    } catch (err) {\n      set({\n        loggedIn: false\n      });\n      console.log(err);\n    }\n  }\n}));\nexport default authStore;","map":{"version":3,"names":["React","create","axios","authStore","set","loggedIn","loginForm","email","password","updateLoginForm","e","name","value","target","state","login","preventDefault","getState","res","post","withCredentials","console","log","err","checkAuth","get"],"sources":["C:/Users/Aman/Desktop/split-expense/frontend/src/components/AuthStore.js"],"sourcesContent":["import React from 'react'\r\nimport create from \"zustand\"\r\nimport  axios from \"axios\";\r\nconst authStore = create((set) => ({\r\n\r\n    loggedIn : null ,\r\n\r\n    loginForm:{\r\n        email:\"\",\r\n        password : \"\",\r\n    },\r\n    updateLoginForm :(e) => {\r\n        const {name , value} = e.target ;\r\n        set((state) => {\r\n            return{\r\n                loginForm:{\r\n                    ...state.loginForm,\r\n                    [name] : value\r\n                },\r\n            };\r\n        });\r\n    },\r\n    login : async (e) =>{\r\n        try{\r\n            e.preventDefault();\r\n            const {loginForm} = authStore.getState();\r\n            const res = await axios.post(\"http://localhost:5000/login\",loginForm,{\r\n                withCredentials: true\r\n            })  \r\n            set({loggedIn:true});\r\n            console.log(res);\r\n        }catch(err){\r\n            console.log(err);\r\n        }\r\n    } , \r\n    checkAuth : async () =>{\r\n        try{\r\n            await axios.get(\"/check-auth\", {withCredentials: true});\r\n            set({loggedIn : true});\r\n        }catch(err){\r\n            set({loggedIn : false});\r\n            console.log(err);\r\n        }\r\n        \r\n    }\r\n\r\n}));\r\nexport default authStore;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,SAAS;AAC5B,OAAQC,KAAK,MAAM,OAAO;AAC1B,MAAMC,SAAS,GAAGF,MAAM,CAAEG,GAAG,KAAM;EAE/BC,QAAQ,EAAG,IAAI;EAEfC,SAAS,EAAC;IACNC,KAAK,EAAC,EAAE;IACRC,QAAQ,EAAG;EACf,CAAC;EACDC,eAAe,EAAGC,CAAC,IAAK;IACpB,MAAM;MAACC,IAAI;MAAGC;IAAK,CAAC,GAAGF,CAAC,CAACG,MAAM;IAC/BT,GAAG,CAAEU,KAAK,IAAK;MACX,OAAM;QACFR,SAAS,EAAC;UACN,GAAGQ,KAAK,CAACR,SAAS;UAClB,CAACK,IAAI,GAAIC;QACb;MACJ,CAAC;IACL,CAAC,CAAC;EACN,CAAC;EACDG,KAAK,EAAG,MAAOL,CAAC,IAAI;IAChB,IAAG;MACCA,CAAC,CAACM,cAAc,CAAC,CAAC;MAClB,MAAM;QAACV;MAAS,CAAC,GAAGH,SAAS,CAACc,QAAQ,CAAC,CAAC;MACxC,MAAMC,GAAG,GAAG,MAAMhB,KAAK,CAACiB,IAAI,CAAC,6BAA6B,EAACb,SAAS,EAAC;QACjEc,eAAe,EAAE;MACrB,CAAC,CAAC;MACFhB,GAAG,CAAC;QAACC,QAAQ,EAAC;MAAI,CAAC,CAAC;MACpBgB,OAAO,CAACC,GAAG,CAACJ,GAAG,CAAC;IACpB,CAAC,QAAMK,GAAG,EAAC;MACPF,OAAO,CAACC,GAAG,CAACC,GAAG,CAAC;IACpB;EACJ,CAAC;EACDC,SAAS,EAAG,MAAAA,CAAA,KAAW;IACnB,IAAG;MACC,MAAMtB,KAAK,CAACuB,GAAG,CAAC,aAAa,EAAE;QAACL,eAAe,EAAE;MAAI,CAAC,CAAC;MACvDhB,GAAG,CAAC;QAACC,QAAQ,EAAG;MAAI,CAAC,CAAC;IAC1B,CAAC,QAAMkB,GAAG,EAAC;MACPnB,GAAG,CAAC;QAACC,QAAQ,EAAG;MAAK,CAAC,CAAC;MACvBgB,OAAO,CAACC,GAAG,CAACC,GAAG,CAAC;IACpB;EAEJ;AAEJ,CAAC,CAAC,CAAC;AACH,eAAepB,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}